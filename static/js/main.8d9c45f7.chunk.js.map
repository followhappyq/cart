{"version":3,"sources":["reducers/books.js","reducers/cart.js","reducers/filter.js","reducers sync /^/.*$","store.js","components/Menu.jsx","components/Card.jsx","components/App.jsx","components/Filter.jsx","components/CartPopup.jsx","actions/books.js","actions/cart.js","actions/filter.js","containers/App.js","containers/Filter.js","containers/Menu.js","containers/Card.js","index.js","reducers/index.js"],"names":["initialState","items","state","type","payload","filter","obj","id","query","filterBy","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","composeEnchancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","store","createStore","rootReducer","applyMiddleware","BaseMenu","count","total","removeFromCart","console","log","Item","link","Menu","position","Popup","trigger","Button","flowing","hoverable","book","key","Math","random","BaseCard","onAddToCart","addedCount","Image","src","image","wrapped","ui","Content","Header","title","Meta","className","author","Description","price","extra","Rating","defaultRating","rating","maxRating","disabled","onClick","App","books","Container","Group","itemsPerRow","Filter","activeItem","handleItemClick","setQuery","secondary","name","active","Input","icon","placeholder","value","onChange","target","CartPopup","List","selection","divided","verticalAlign","floated","color","avatar","actions","setBooks","addToCart","setFilter","searchBooks","orderBy","sortBy","toLowerCase","indexOf","filterBooks","connect","booksActions","useEffect","axios","get","then","data","catch","filterActions","useState","setActiveItem","cart","reduce","length","uniqBy","dispatch","bindActionCreators","cartActions","item","ReactDOM","render","document","getElementById","combineReducers","initial","require","default"],"mappings":"iHAAMA,EAAe,CACnBC,MAAO,MAGM,qBAA8C,IAA7CC,EAA4C,uDAApCF,EAAoC,yCAApBG,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC5C,OAAQD,GACN,IAAK,kBACH,OAAO,2BACFD,GADL,IAEED,MAAOG,IAGX,QACE,OAAOF,K,6DCbPF,EAAe,CACnBC,MAAO,IAGM,qBAA8C,IAA7CC,EAA4C,uDAApCF,EAAoC,yCAApBG,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC5C,OAAQD,GACN,IAAK,gBACH,OAAO,2BACFD,GADL,IAEED,MAAM,GAAD,mBAAMC,EAAMD,OAAZ,CAAmBG,MAE5B,IAAK,mBACH,OAAO,2BACFF,GADL,IAEED,MAAOC,EAAMD,MAAMI,QAAO,SAACC,GAAD,OAASA,EAAIC,KAAOH,OAGlD,QACE,OAAOF,K,oDClBPF,EAAe,CACnBQ,MAAO,GACPC,SAAU,OAGG,qBAA8C,IAA7CP,EAA4C,uDAApCF,EAAoC,yCAApBG,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC5C,OAAQD,GACN,IAAK,mBACH,OAAO,2BACFD,GADL,IAEEM,MAAOJ,IAEX,IAAK,oBACH,OAAO,2BACFF,GADL,IAEEO,SAAUL,IAGd,QACE,OAAOF,K,0DCnBb,IAAIQ,EAAM,CACT,KAAM,GACN,UAAW,IACX,aAAc,IACd,SAAU,IACV,YAAa,IACb,WAAY,IACZ,cAAe,IACf,UAAW,GACX,aAAc,IAIf,SAASC,EAAeC,GACvB,IAAIL,EAAKM,EAAsBD,GAC/B,OAAOE,EAAoBP,GAE5B,SAASM,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEL,EAAKE,GAAM,CACpC,IAAII,EAAI,IAAIC,MAAM,uBAAyBL,EAAM,KAEjD,MADAI,EAAEE,KAAO,mBACHF,EAEP,OAAON,EAAIE,GAEZD,EAAeQ,KAAO,WACrB,OAAOC,OAAOD,KAAKT,IAEpBC,EAAeU,QAAUR,EACzBS,EAAOC,QAAUZ,EACjBA,EAAeJ,GAAK,K,mKCzBdiB,EAAoBC,OAAOC,sCAAwCC,IAEnEC,EAAa,CAACC,KAOLC,EALDC,YACZC,UACAR,EAAkBS,IAAe,WAAf,EAAmBL,K,8DCwBxBM,EA7BE,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,MAAOnC,EAA4B,EAA5BA,MAAOoC,EAAqB,EAArBA,eACvC,OACE,kBAAC,WAAD,KACGC,QAAQC,IAAIF,GACb,kBAAC,IAAD,KACE,kBAAC,IAAKG,KAAN,CAAWC,MAAI,GAAf,QACA,kBAAC,IAAKC,KAAN,CAAWC,SAAS,SAClB,kBAAC,IAAKH,KAAN,CAAWC,MAAI,GAAf,UACS,+BAAKL,IAGd,kBAAC,IAAKI,KAAN,KACE,kBAACI,EAAA,EAAD,CAAOC,QAAS,kBAACC,EAAA,EAAD,cAAeX,EAAf,KAAiCY,SAAO,EAACC,WAAS,GAC/D/C,EAAMS,KAAI,SAACuC,GAAD,OACT,kBAAC,EAAD,CACEC,IAAKC,KAAKC,SACVH,KAAMA,EACNZ,eAAgBA,WAO5B,kBAAC,EAAD,Q,2BCNSgB,EArBE,SAAC,GAAuC,IAArCJ,EAAoC,EAApCA,KAAMK,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,WACrC,OACE,kBAAC,IAAD,CAAML,IAAKC,KAAKC,UACd,kBAACI,EAAA,EAAD,CAAOC,IAAKR,EAAKS,MAAOC,SAAO,EAACC,IAAI,IACpC,kBAAC,IAAKC,QAAN,KACE,kBAAC,IAAKC,OAAN,KAAcb,EAAKc,OACnB,kBAAC,IAAKC,KAAN,KACE,0BAAMC,UAAU,UAAUhB,EAAKiB,SAEjC,kBAAC,IAAKC,YAAN,uBAA8BlB,EAAKmB,SAErC,kBAAC,IAAKP,QAAN,CAAcQ,OAAK,GACjB,kBAACC,EAAA,EAAD,CAAQC,cAAetB,EAAKuB,OAAQC,UAAW,EAAGC,UAAQ,KAE5D,kBAAC5B,EAAA,EAAD,CAAQ6B,QAASrB,GAAjB,cACcC,EAAa,GAAb,WAAsBA,EAAtB,Q,SCELqB,G,OAdH,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACb,OACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAKC,MAAN,CAAYC,YAAa,GACtBH,GACCA,EAAMnE,KAAI,SAACuC,GAAD,OACR,kBAAC,EAAD,CAAUC,IAAKC,KAAKC,SAAUH,KAAMA,W,SC0CjCgC,EApDA,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,WAAYC,EAAuC,EAAvCA,gBAAiB3E,EAAsB,EAAtBA,MAAO4E,EAAe,EAAfA,SACpD,OACE,kBAAC,IAAD,CAAMC,WAAS,GACb,kBAAC,IAAK7C,KAAN,CACE8C,KAAK,MACLC,OAAuB,QAAfL,EACRP,QAASQ,GAHX,OAQA,kBAAC,IAAK3C,KAAN,CACE8C,KAAK,UACLC,OAAuB,YAAfL,EACRP,QAASQ,GAHX,gBAQA,kBAAC,IAAK3C,KAAN,CACE8C,KAAK,OACLC,OAAuB,SAAfL,EACRP,QAASQ,GAHX,sBAOA,kBAAC,IAAK3C,KAAN,CACE8C,KAAK,MACLC,OAAuB,QAAfL,EACRP,QAASQ,GAHX,sBAOA,kBAAC,IAAK3C,KAAN,CACE8C,KAAK,SACLC,OAAuB,WAAfL,EACRP,QAASQ,GAHX,UAOA,kBAAC,IAAK3C,KAAN,KACE,kBAACgD,EAAA,EAAD,CACEC,KAAK,SACLC,YAAY,kBACZC,MAAOnF,EACPoF,SAAU,SAAC5E,GAAD,OAAOoE,EAASpE,EAAE6E,OAAOF,a,SCxB9BG,EArBG,SAAC,GAA8B,IAA5B7C,EAA2B,EAA3BA,KAAMZ,EAAqB,EAArBA,eACzB,OACE,kBAAC0D,EAAA,EAAD,CAAMC,WAAS,EAACC,SAAO,EAACC,cAAc,UACpC,kBAACH,EAAA,EAAKvD,KAAN,KACE,kBAACuD,EAAA,EAAKlC,QAAN,CAAcsC,QAAQ,SACpB,kBAACrD,EAAA,EAAD,CACE6B,QAAS,WACPtC,EAAeY,EAAK1C,KAEtB6F,MAAM,OAJR,MASF,kBAAC5C,EAAA,EAAD,CAAO6C,QAAM,EAAC5C,IAAKR,EAAKS,QACxB,kBAACqC,EAAA,EAAKlC,QAAN,KAAeZ,EAAKc,UCXbuC,EAPC,CACdC,SAAU,SAAC1B,GAAD,MAAY,CACpB1E,KAAM,kBACNC,QAASyE,KCQEyB,EAXC,CACdE,UAAW,SAACvD,GAAD,MAAW,CACpB9C,KAAM,gBACNC,QAAS6C,IAEXZ,eAAgB,SAAC9B,GAAD,MAAS,CACvBJ,KAAM,mBACNC,QAASG,KCIE+F,EAXC,CACdlB,SAAU,SAAC5E,GAAD,MAAY,CACpBL,KAAM,mBACNC,QAASI,IAEXiG,UAAW,SAACpG,GAAD,MAAa,CACtBF,KAAM,oBACNC,QAASC,KC2BPqG,EAAc,SAAC7B,EAAOpE,EAAUD,GACpC,OAzBa,SAACqE,EAAOpE,GACrB,OAAQA,GACN,IAAK,MACH,OAAOoE,EACT,IAAK,OACH,OAAO8B,kBAAQ9B,EAAO,QAAS,QACjC,IAAK,MACH,OAAO8B,kBAAQ9B,EAAO,QAAS,OACjC,IAAK,SACH,OAAO8B,kBAAQ9B,EAAO,SAAU,OAClC,IAAK,UACH,OAAO8B,kBAAQ9B,EAAO,SAAU,QAClC,QACE,OAAOA,GAYJ+B,CARW,SAAC/B,EAAOrE,GAAR,OAClBqE,EAAMxE,QACJ,SAAC4C,GAAD,OACEA,EAAKc,MAAM8C,cAAcC,QAAQtG,EAAMqG,gBAAkB,GACzD5D,EAAKiB,OAAO2C,cAAcC,QAAQtG,EAAMqG,gBAAkB,KAIhDE,CAAYlC,EAAOrE,GAAQC,IAmB5BuG,eACb,gBAAGnC,EAAH,EAAGA,MAAOxE,EAAV,EAAUA,OAAV,MAAwB,CACtBwE,MACEA,EAAM5E,OAASyG,EAAY7B,EAAM5E,MAAOI,EAAOI,SAAUJ,EAAOG,UAEpEyG,EALaD,EAhBH,SAAC,GAAoC,IAAlCT,EAAiC,EAAjCA,SAAU1B,EAAuB,EAAvBA,MAAuB,EAAhB4B,UAa9B,OAZAS,qBAAU,WACRC,IACGC,IAAI,YACJC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPf,EAASe,MAEVC,OAAM,WACLjF,QAAQC,IAAI,cAGf,IAEI,kBAAC,EAAD,CAASsC,MAAOA,O,SCzBVmC,eACb,cAAGnC,MAAH,MAAwB,CAAEpE,SAA1B,EAAUJ,OAAiCI,YAC3C+G,EAFaR,EApBA,SAAC,GAA8C,IAA5CP,EAA2C,EAA3CA,UAAqBjG,GAAsB,EAAhCC,SAAgC,EAAtBD,OAAO4E,EAAe,EAAfA,SAAe,EACvBqC,mBAAS,OADc,mBACpDvC,EADoD,KACxCwC,EADwC,KAQ3D,OACE,kBAAC,EAAD,CACExC,WAAYA,EACZwC,cAAeA,EACfjB,UAAWA,EACXtB,gBAVoB,SAACnE,EAAD,GAAkB,IAAZsE,EAAW,EAAXA,KAC5BoC,EAAcpC,GACdmB,EAAUnB,IASR9E,MAAOA,EACP4E,SAAUA,O,0BCGD4B,eACb,gBAAGW,EAAH,EAAGA,KAAH,MAAe,CACbvF,MAAOuF,EAAK1H,MAAM2H,QAAO,SAACxF,EAAOa,GAAR,OAAiBb,EAAQa,EAAKmB,QAAO,GAC9DjC,MAAOwF,EAAK1H,MAAM4H,OAClBtH,GAAIuH,IAAOH,EAAK1H,OAAO,SAACc,GAAD,OAAOA,EAAER,MAChCN,MAAO6H,IAAOH,EAAK1H,OAAO,SAACc,GAAD,OAAOA,EAAER,UAVZ,SAACwH,GAAD,mBAAC,eACvBC,YAAmBR,EAAeO,IAClCC,YAAmBC,EAAaF,MAGtBf,EAhBF,SAAC,GAA6C,IAA3C5E,EAA0C,EAA1CA,MAAOD,EAAmC,EAAnCA,MAAOlC,EAA4B,EAA5BA,MAAOoC,EAAqB,EAArBA,eACnC,OACE,kBAAC,EAAD,CACED,MAAOA,EACPD,MAAOA,EACPlC,MAAOA,EACPoC,eAAgBA,OCMP2E,eACb,kBAAGW,EAAH,EAAGA,KAAU1E,EAAb,EAAaA,KAAb,MAAyB,CACvBM,WAAYoE,EAAK1H,MAAM2H,QACrB,SAACzF,EAAO+F,GAAR,OAAiB/F,GAAS+F,EAAK3H,KAAO0C,EAAK1C,GAAK,EAAI,KACpD,MAGJ0H,EAPajB,EAdF,SAAC,GAAqC,IAAnC/D,EAAkC,EAAlCA,KAAMuD,EAA4B,EAA5BA,UAAWjD,EAAiB,EAAjBA,WAK/B,OACE,kBAAC,EAAD,CACEN,KAAMA,EACNK,YAPgB,WAClBkD,EAAUvD,IAORM,WAAYA,OCNlB4E,IAASC,OACP,kBAAC,IAAD,CAAUtG,MAAOA,GACf,kBAAC,EAAD,OAEFuG,SAASC,eAAe,U,gCCb1B,mBAIeC,sBAFE,CAAC,QAAS,SAAU,QAG1BX,QAAO,SAACY,EAASlD,GAExB,OADAkD,EAAQlD,GAAQmD,OAAQ,YAAKnD,IAAQoD,QAC9BF,IACN,O","file":"static/js/main.8d9c45f7.chunk.js","sourcesContent":["const initialState = {\r\n  items: null,\r\n}\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"BOOKS:SET_BOOKS\":\r\n      return {\r\n        ...state,\r\n        items: payload,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  items: [],\r\n}\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"CART:ADD_BOOK\":\r\n      return {\r\n        ...state,\r\n        items: [...state.items, payload],\r\n      }\r\n    case \"CART:REMOVE_BOOK\":\r\n      return {\r\n        ...state,\r\n        items: state.items.filter((obj) => obj.id !== payload),\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  query: \"\",\r\n  filterBy: \"all\",\r\n}\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"FILTER:SET_QUERY\":\r\n      return {\r\n        ...state,\r\n        query: payload,\r\n      }\r\n    case \"FILTER:SET_FILTER\":\r\n      return {\r\n        ...state,\r\n        filterBy: payload,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","var map = {\n\t\"./\": 55,\n\t\"./books\": 109,\n\t\"./books.js\": 109,\n\t\"./cart\": 110,\n\t\"./cart.js\": 110,\n\t\"./filter\": 111,\n\t\"./filter.js\": 111,\n\t\"./index\": 55,\n\t\"./index.js\": 55\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 214;","import { createStore, applyMiddleware, compose } from \"redux\"\r\nimport thunk from \"redux-thunk\"\r\n\r\nimport rootReducer from \"./reducers\"\r\n\r\nconst composeEnchancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnchancers(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store\r\n","import React, { Fragment } from \"react\"\r\nimport { Menu, Button, Popup } from \"semantic-ui-react\"\r\n\r\nimport { Filter } from \"../containers\"\r\nimport { CartPopup } from \"./\"\r\n\r\nconst BaseMenu = ({ count, total, items, removeFromCart }) => {\r\n  return (\r\n    <Fragment>\r\n      {console.log(removeFromCart)}\r\n      <Menu>\r\n        <Menu.Item link>Shop</Menu.Item>\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item link>\r\n            Total: <b>${total}</b>\r\n          </Menu.Item>\r\n\r\n          <Menu.Item>\r\n            <Popup trigger={<Button>Cart ({count})</Button>} flowing hoverable>\r\n              {items.map((book) => (\r\n                <CartPopup\r\n                  key={Math.random()}\r\n                  book={book}\r\n                  removeFromCart={removeFromCart}\r\n                />\r\n              ))}\r\n            </Popup>\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      </Menu>\r\n      <Filter />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default BaseMenu\r\n","import React from \"react\"\r\nimport { Card, Image, Rating, Button } from \"semantic-ui-react\"\r\n\r\nconst BaseCard = ({ book, onAddToCart, addedCount }) => {\r\n  return (\r\n    <Card key={Math.random()}>\r\n      <Image src={book.image} wrapped ui={false} />\r\n      <Card.Content>\r\n        <Card.Header>{book.title}</Card.Header>\r\n        <Card.Meta>\r\n          <span className=\"author\">{book.author}</span>\r\n        </Card.Meta>\r\n        <Card.Description>{`Price: $${book.price}`}</Card.Description>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n        <Rating defaultRating={book.rating} maxRating={5} disabled />\r\n      </Card.Content>\r\n      <Button onClick={onAddToCart}>\r\n        Add to cart{addedCount > 0 && `(${addedCount})`}\r\n      </Button>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default BaseCard\r\n","import React from \"react\"\nimport { Container, Card } from \"semantic-ui-react\"\n\nimport { Menu, Card as BaseCard } from \"../containers\"\nimport \"../styles/app.scss\"\n\nconst App = ({ books }) => {\n  return (\n    <Container>\n      <Menu />\n      <Card.Group itemsPerRow={4}>\n        {books &&\n          books.map((book) => (\n            <BaseCard key={Math.random()} book={book}></BaseCard>\n          ))}\n      </Card.Group>\n    </Container>\n  )\n}\n\nexport default App\n","import React from \"react\"\r\nimport { Input, Menu } from \"semantic-ui-react\"\r\n\r\nconst Filter = ({ activeItem, handleItemClick, query, setQuery }) => {\r\n  return (\r\n    <Menu secondary>\r\n      <Menu.Item\r\n        name=\"all\"\r\n        active={activeItem === \"all\"}\r\n        onClick={handleItemClick}\r\n      >\r\n        All\r\n      </Menu.Item>\r\n\r\n      <Menu.Item\r\n        name=\"popular\"\r\n        active={activeItem === \"popular\"}\r\n        onClick={handleItemClick}\r\n      >\r\n        Most popular\r\n      </Menu.Item>\r\n\r\n      <Menu.Item\r\n        name=\"high\"\r\n        active={activeItem === \"high\"}\r\n        onClick={handleItemClick}\r\n      >\r\n        Price: High to Low\r\n      </Menu.Item>\r\n      <Menu.Item\r\n        name=\"low\"\r\n        active={activeItem === \"low\"}\r\n        onClick={handleItemClick}\r\n      >\r\n        Price: Low to High\r\n      </Menu.Item>\r\n      <Menu.Item\r\n        name=\"author\"\r\n        active={activeItem === \"author\"}\r\n        onClick={handleItemClick}\r\n      >\r\n        Author\r\n      </Menu.Item>\r\n      <Menu.Item>\r\n        <Input\r\n          icon=\"search\"\r\n          placeholder=\"Search books...\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n        />\r\n      </Menu.Item>\r\n    </Menu>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from \"react\"\r\nimport { List, Button, Image } from \"semantic-ui-react\"\r\n\r\nconst CartPopup = ({ book, removeFromCart }) => {\r\n  return (\r\n    <List selection divided verticalAlign=\"middle\">\r\n      <List.Item>\r\n        <List.Content floated=\"right\">\r\n          <Button\r\n            onClick={() => {\r\n              removeFromCart(book.id)\r\n            }}\r\n            color=\"red\"\r\n          >\r\n            X\r\n          </Button>\r\n        </List.Content>\r\n        <Image avatar src={book.image} />\r\n        <List.Content>{book.title}</List.Content>\r\n      </List.Item>\r\n    </List>\r\n  )\r\n}\r\n\r\nexport default CartPopup\r\n","const actions = {\r\n  setBooks: (books) => ({\r\n    type: \"BOOKS:SET_BOOKS\",\r\n    payload: books,\r\n  }),\r\n}\r\n\r\nexport default actions\r\n","const actions = {\r\n  addToCart: (book) => ({\r\n    type: \"CART:ADD_BOOK\",\r\n    payload: book,\r\n  }),\r\n  removeFromCart: (id) => ({\r\n    type: \"CART:REMOVE_BOOK\",\r\n    payload: id,\r\n  }),\r\n}\r\n\r\nexport default actions\r\n","const actions = {\r\n  setQuery: (query) => ({\r\n    type: \"FILTER:SET_QUERY\",\r\n    payload: query,\r\n  }),\r\n  setFilter: (filter) => ({\r\n    type: \"FILTER:SET_FILTER\",\r\n    payload: filter,\r\n  }),\r\n}\r\n\r\nexport default actions\r\n","import React, { useEffect } from \"react\"\r\nimport axios from \"axios\"\r\nimport { connect } from \"react-redux\"\r\nimport { orderBy } from \"lodash\"\r\n\r\nimport { App as BaseApp } from \"../components\"\r\nimport { booksActions } from \"../actions/\"\r\n\r\n//orderBy(books, \"price\", \"ASC\")\r\n\r\nconst sortBy = (books, filterBy) => {\r\n  switch (filterBy) {\r\n    case \"all\":\r\n      return books\r\n    case \"high\":\r\n      return orderBy(books, \"price\", \"desc\")\r\n    case \"low\":\r\n      return orderBy(books, \"price\", \"asc\")\r\n    case \"author\":\r\n      return orderBy(books, \"author\", \"asc\")\r\n    case \"popular\":\r\n      return orderBy(books, \"rating\", \"desc\")\r\n    default:\r\n      return books\r\n  }\r\n}\r\n\r\nconst filterBooks = (books, query) =>\r\n  books.filter(\r\n    (book) =>\r\n      book.title.toLowerCase().indexOf(query.toLowerCase()) >= 0 ||\r\n      book.author.toLowerCase().indexOf(query.toLowerCase()) >= 0\r\n  )\r\n\r\nconst searchBooks = (books, filterBy, query) => {\r\n  return sortBy(filterBooks(books, query), filterBy)\r\n}\r\n\r\nconst App = ({ setBooks, books, setFilter }) => {\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/db.json\")\r\n      .then(({ data }) => {\r\n        setBooks(data)\r\n      })\r\n      .catch(() => {\r\n        console.log(\"error\")\r\n      })\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return <BaseApp books={books} />\r\n}\r\n\r\nexport default connect(\r\n  ({ books, filter }) => ({\r\n    books:\r\n      books.items && searchBooks(books.items, filter.filterBy, filter.query),\r\n  }),\r\n  booksActions\r\n)(App)\r\n","import React, { useState } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { filterActions } from \"../actions/\"\r\n\r\nimport { Filter as BaseFilter } from \"../components\"\r\n\r\nconst Filter = ({ setFilter, filterBy, query, setQuery }) => {\r\n  const [activeItem, setActiveItem] = useState(\"all\")\r\n\r\n  const handleItemClick = (e, { name }) => {\r\n    setActiveItem(name)\r\n    setFilter(name)\r\n  }\r\n\r\n  return (\r\n    <BaseFilter\r\n      activeItem={activeItem}\r\n      setActiveItem={setActiveItem}\r\n      setFilter={setFilter}\r\n      handleItemClick={handleItemClick}\r\n      query={query}\r\n      setQuery={setQuery}\r\n    />\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  ({ books, filter }) => ({ filterBy: filter.filterBy }),\r\n  filterActions\r\n)(Filter)\r\n","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport uniqBy from \"lodash/uniqBy\"\r\nimport { bindActionCreators } from \"redux\"\r\n\r\nimport { Menu as BaseMenu } from \"../components\"\r\nimport { filterActions, cartActions } from \"../actions/\"\r\n\r\nconst Menu = ({ total, count, items, removeFromCart }) => {\r\n  return (\r\n    <BaseMenu\r\n      total={total}\r\n      count={count}\r\n      items={items}\r\n      removeFromCart={removeFromCart}\r\n    ></BaseMenu>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  ...bindActionCreators(filterActions, dispatch),\r\n  ...bindActionCreators(cartActions, dispatch),\r\n})\r\n\r\nexport default connect(\r\n  ({ cart }) => ({\r\n    total: cart.items.reduce((total, book) => total + book.price, 0),\r\n    count: cart.items.length,\r\n    id: uniqBy(cart.items, (o) => o.id),\r\n    items: uniqBy(cart.items, (o) => o.id),\r\n  }),\r\n  mapDispatchToProps\r\n)(Menu)\r\n","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { cartActions } from \"../actions/\"\r\n\r\nimport { Card as BaseCard } from \"../components\"\r\n\r\nconst Card = ({ book, addToCart, addedCount }) => {\r\n  const onAddToCart = () => {\r\n    addToCart(book)\r\n  }\r\n\r\n  return (\r\n    <BaseCard\r\n      book={book}\r\n      onAddToCart={onAddToCart}\r\n      addedCount={addedCount}\r\n    ></BaseCard>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  ({ cart }, { book }) => ({\r\n    addedCount: cart.items.reduce(\r\n      (count, item) => count + (item.id === book.id ? 1 : 0),\r\n      0\r\n    ),\r\n  }),\r\n  cartActions\r\n)(Card)\r\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport \"semantic-ui-css/semantic.min.css\"\n\nimport store from \"./store\"\nimport \"./index.css\"\nimport { App } from \"./containers/\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n)\n","import { combineReducers } from \"redux\"\r\n\r\nconst reducers = [\"books\", \"filter\", \"cart\"]\r\n\r\nexport default combineReducers(\r\n  reducers.reduce((initial, name) => {\r\n    initial[name] = require(`./${name}`).default\r\n    return initial\r\n  }, {})\r\n)\r\n"],"sourceRoot":""}