(this.webpackJsonpcard=this.webpackJsonpcard||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var r=a(17),n={items:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0,a=t.type,o=t.payload;switch(a){case"BOOKS:SET_BOOKS":return Object(r.a)(Object(r.a)({},e),{},{items:o});default:return e}}},110:function(e,t,a){"use strict";a.r(t);var r=a(193),n=a(17),o={items:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case"CART:ADD_BOOK":return Object(n.a)(Object(n.a)({},e),{},{items:[].concat(Object(r.a)(e.items),[c])});case"CART:REMOVE_BOOK":return Object(n.a)(Object(n.a)({},e),{},{items:e.items.filter((function(e){return e.id!==c}))});default:return e}}},111:function(e,t,a){"use strict";a.r(t);var r=a(17),n={query:"",filterBy:"all"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0,a=t.type,o=t.payload;switch(a){case"FILTER:SET_QUERY":return Object(r.a)(Object(r.a)({},e),{},{query:o});case"FILTER:SET_FILTER":return Object(r.a)(Object(r.a)({},e),{},{filterBy:o});default:return e}}},204:function(e,t,a){e.exports=a(385)},214:function(e,t,a){var r={"./":55,"./books":109,"./books.js":109,"./cart":110,"./cart.js":110,"./filter":111,"./filter.js":111,"./index":55,"./index.js":55};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id=214},215:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(29),c=a.n(o),l=a(25),i=(a(213),a(19)),u=a(175),m=a(55),s=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,d=[u.a],f=Object(i.e)(m.default,s(i.a.apply(void 0,d))),E=(a(215),a(176)),b=a.n(E),O=a(61),v=a(398),p=a(395),h=a(386),y=function(e){var t=e.count,a=e.total,o=e.items,c=e.removeFromCart;return n.a.createElement(r.Fragment,null,console.log(c),n.a.createElement(v.a,null,n.a.createElement(v.a.Item,{link:!0},"Shop"),n.a.createElement(v.a.Menu,{position:"right"},n.a.createElement(v.a.Item,{link:!0},"Total: ",n.a.createElement("b",null,"$",a)),n.a.createElement(v.a.Item,null,n.a.createElement(p.a,{trigger:n.a.createElement(h.a,null,"Cart (",t,")"),flowing:!0,hoverable:!0},o.map((function(e){return n.a.createElement(F,{key:Math.random(),book:e,removeFromCart:c})})))))),n.a.createElement(x,null))},C=a(397),k=a(191),j=a(400),g=function(e){var t=e.book,a=e.onAddToCart,r=e.addedCount;return n.a.createElement(C.a,{key:Math.random()},n.a.createElement(k.a,{src:t.image,wrapped:!0,ui:!1}),n.a.createElement(C.a.Content,null,n.a.createElement(C.a.Header,null,t.title),n.a.createElement(C.a.Meta,null,n.a.createElement("span",{className:"author"},t.author)),n.a.createElement(C.a.Description,null,"Price: $".concat(t.price))),n.a.createElement(C.a.Content,{extra:!0},n.a.createElement(j.a,{defaultRating:t.rating,maxRating:5,disabled:!0})),n.a.createElement(h.a,{onClick:a},"Add to cart",r>0&&"(".concat(r,")")))},T=a(392),I=(a(384),function(e){var t=e.books;return n.a.createElement(T.a,null,n.a.createElement(N,null),n.a.createElement(C.a.Group,{itemsPerRow:4},t&&t.map((function(e){return n.a.createElement(P,{key:Math.random(),book:e})}))))}),w=a(393),B=function(e){var t=e.activeItem,a=e.handleItemClick,r=e.query,o=e.setQuery;return n.a.createElement(v.a,{secondary:!0},n.a.createElement(v.a.Item,{name:"all",active:"all"===t,onClick:a},"All"),n.a.createElement(v.a.Item,{name:"popular",active:"popular"===t,onClick:a},"Most popular"),n.a.createElement(v.a.Item,{name:"high",active:"high"===t,onClick:a},"Price: High to Low"),n.a.createElement(v.a.Item,{name:"low",active:"low"===t,onClick:a},"Price: Low to High"),n.a.createElement(v.a.Item,{name:"author",active:"author"===t,onClick:a},"Author"),n.a.createElement(v.a.Item,null,n.a.createElement(w.a,{icon:"search",placeholder:"Search books...",value:r,onChange:function(e){return o(e.target.value)}})))},_=a(396),F=function(e){var t=e.book,a=e.removeFromCart;return n.a.createElement(_.a,{selection:!0,divided:!0,verticalAlign:"middle"},n.a.createElement(_.a.Item,null,n.a.createElement(_.a.Content,{floated:"right"},n.a.createElement(h.a,{onClick:function(){a(t.id)},color:"red"},"X")),n.a.createElement(k.a,{avatar:!0,src:t.image}),n.a.createElement(_.a.Content,null,t.title)))},R={setBooks:function(e){return{type:"BOOKS:SET_BOOKS",payload:e}}},S={addToCart:function(e){return{type:"CART:ADD_BOOK",payload:e}},removeFromCart:function(e){return{type:"CART:REMOVE_BOOK",payload:e}}},L={setQuery:function(e){return{type:"FILTER:SET_QUERY",payload:e}},setFilter:function(e){return{type:"FILTER:SET_FILTER",payload:e}}},A=function(e,t,a){return function(e,t){switch(t){case"all":return e;case"high":return Object(O.orderBy)(e,"price","desc");case"low":return Object(O.orderBy)(e,"price","asc");case"author":return Object(O.orderBy)(e,"author","asc");case"popular":return Object(O.orderBy)(e,"rating","desc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},M=Object(l.b)((function(e){var t=e.books,a=e.filter;return{books:t.items&&A(t.items,a.filterBy,a.query)}}),R)((function(e){var t=e.setBooks,a=e.books;e.setFilter;return Object(r.useEffect)((function(){b.a.get("/db.json").then((function(e){var a=e.data;t(a)})).catch((function(){console.log("error")}))}),[]),n.a.createElement(I,{books:a})})),D=a(192),x=Object(l.b)((function(e){e.books;return{filterBy:e.filter.filterBy}}),L)((function(e){var t=e.setFilter,a=(e.filterBy,e.query),o=e.setQuery,c=Object(r.useState)("all"),l=Object(D.a)(c,2),i=l[0],u=l[1];return n.a.createElement(B,{activeItem:i,setActiveItem:u,setFilter:t,handleItemClick:function(e,a){var r=a.name;u(r),t(r)},query:a,setQuery:o})})),K=a(17),q=a(105),Q=a.n(q),N=Object(l.b)((function(e){var t=e.cart;return{total:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,id:Q()(t.items,(function(e){return e.id})),items:Q()(t.items,(function(e){return e.id}))}}),(function(e){return Object(K.a)(Object(K.a)({},Object(i.b)(L,e)),Object(i.b)(S,e))}))((function(e){var t=e.total,a=e.count,r=e.items,o=e.removeFromCart;return n.a.createElement(y,{total:t,count:a,items:r,removeFromCart:o})})),P=Object(l.b)((function(e,t){var a=e.cart,r=t.book;return{addedCount:a.items.reduce((function(e,t){return e+(t.id===r.id?1:0)}),0)}}),S)((function(e){var t=e.book,a=e.addToCart,r=e.addedCount;return n.a.createElement(g,{book:t,onAddToCart:function(){a(t)},addedCount:r})}));c.a.render(n.a.createElement(l.a,{store:f},n.a.createElement(M,null)),document.getElementById("root"))},55:function(e,t,a){"use strict";a.r(t);var r=a(19);t.default=Object(r.c)(["books","filter","cart"].reduce((function(e,t){return e[t]=a(214)("./".concat(t)).default,e}),{}))}},[[204,1,2]]]);
//# sourceMappingURL=main.8d9c45f7.chunk.js.map